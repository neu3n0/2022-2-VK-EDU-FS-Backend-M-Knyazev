Models:

User:
-contacts // ManyToMany('User')
---

Chat:
-creator //ForeignKey(User)
-members //ManyToMany(User)
---

Message:
-chat //ForeignKey(Chat)
-author //ForeignKey(User)